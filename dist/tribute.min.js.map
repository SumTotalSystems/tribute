{"version":3,"sources":["tribute.min.js"],"names":["f","exports","module","define","amd","window","global","self","this","Tribute","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Object","defineProperty","value","_TributeEvents","_interopRequireDefault","_TributeMenuEvents","_TributeRange","_TributeSearch","obj","__esModule","default","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","_default","_ref","_this","_ref$values","values","_ref$iframe","iframe","_ref$selectClass","selectClass","_ref$containerClass","containerClass","_ref$itemClass","itemClass","_ref$trigger","trigger","_ref$autocompleteMode","autocompleteMode","_ref$selectTemplate","selectTemplate","_ref$menuItemTemplate","menuItemTemplate","_ref$lookup","lookup","_ref$fillAttr","fillAttr","_ref$collection","collection","_ref$menuContainer","menuContainer","_ref$noMatchTemplate","noMatchTemplate","_ref$requireLeadingSp","requireLeadingSpace","_ref$allowSpaces","allowSpaces","_ref$replaceTextSuffi","replaceTextSuffix","_ref$positionMenu","positionMenu","_ref$spaceSelectsMatc","spaceSelectsMatch","_ref$searchOpts","searchOpts","_ref$menuItemLimit","menuItemLimit","_ref$menuLabel","menuLabel","instance","Constructor","_classCallCheck","menuSelected","current","inputEvent","isActive","hasTrailingSpace","defaultSelectTemplate","bind","defaultMenuItemTemplate","console","warn","map","item","protoProps","staticProps","prototype","_createClass","config","el","jQuery","get","constructor","NodeList","HTMLCollection","_attach","hasAttribute","nodeName","ensureEditable","events","setAttribute","id","element","inputTypes","indexOf","contentEditable","wrapper","range","getDocument","createElement","ul","className","appendChild","style","display","body","scrollTo","_this2","mentionText","currentMentionTextSnapshot","menu","createMenu","tributeMenu","menuEvents","processValues","items","search","filter","pre","post","skip","extract","slice","filteredItems","querySelector","positionMenuAtCaret","noMatchEvent","CustomEvent","detail","dispatchEvent","hideMenu","innerHTML","fragment","createDocumentFragment","forEach","index","li","addEventListener","_this2$_findLiTarget2","_findLiTarget","movementY","setActiveLi","matchEvent","getAttribute","parentNode","collectionIndex","document","activeElement","placeCaretAtEnd","externalTrigger","isContentEditable","insertTextAtCursor","insertAtCaret","showMenuFor","focus","getSelection","createRange","selectNodeContents","collapse","sel","removeAllRanges","addRange","createTextRange","textRange","moveToElementText","select","text","getRangeAt","deleteContents","textNode","createTextNode","insertNode","textarea","scrollPos","scrollTop","caretPos","selectionStart","front","substring","back","selectionEnd","cssText","unbind","removeChild","originalEvent","parseInt","isNaN","content","replaceText","replaceTriggerText","newValues","replace","concat","_append","_detach","_this3","setTimeout","removeAttribute","original","matchItem","string","./TributeEvents","./TributeMenuEvents","./TributeRange","./TributeSearch","./utils","2","TributeEvents","tribute","boundKeydown","keydown","boundKeyup","keyup","boundInput","input","boundBlur","blur","removeEventListener","event","shouldDeactivate","keyCode","commandEvent","keys","callbacks","toLowerCase","contains","preventDefault","stopPropagation","selectItemAtIndex","updateSelection","triggerChar","getKeyCode","triggers","find","charCodeAt","eventKeyPressed","info","getTriggerInfo","mentionTriggerChar","selectedPath","mentionSelectedPath","selectedOffset","mentionSelectedOffset","collectionItem","enter","escape","space","up","count","selected","scrollHeight","down","delete","lis","querySelectorAll","classList","add","liClientRect","getBoundingClientRect","menuClientRect","bottom","scrollDistance","top","_scrollDistance","remove","elem","includeMargin","height","currentStyle","getComputedStyle","parseFloat","marginTop","marginBottom","removeMenu","3","TributeMenuEvents","menuClickEvent","click","menuContainerScrollEvent","debounce","windowResizeEvent","func","wait","immediate","timeout","_arguments","arguments","context","args","callNow","clearTimeout","apply","4","TributeRange","contentWindow","coordinates","getContentEditableCaretPosition","getTextAreaOrInputUnderlinePosition","mentionPosition","left","right","scrollIntoView","menuDimensions","width","offsetWidth","offsetHeight","menuIsOffScreen","isMenuOffScreen","menuIsOffScreenHorizontally","innerWidth","menuIsOffScreenVertically","innerHeight","targetElement","path","offset","childNodes","nextSibling","previousSibling","getWindowSelection","setStart","setEnd","error","replaceEvent","_endPos","pasteHtml","myField","textSuffix","startPos","endPos","bubbles","html","anchorNode","node","lastNode","frag","firstChild","cloneRange","setStartAfter","ctx","ce","getNodePositionInParent","reverse","startOffset","selectedElem","workingNodeContent","textContent","startContainer","selectStartOffset","nodeType","x","textComponent","wordsArray","split","trim","menuAlreadyActive","isAutocomplete","selectionInfo","getContentEditableSelectedPath","effectiveRange","getTextPrecedingCurrentSelection","lastWordOfEffectiveRange","getLastWordInText","mentionSelectedElement","mostRecentTriggerCharPos","idx","lastIndexWithLeadingSpace","lastIndexOf","test","currentTriggerSnippet","firstSnippetChar","leadingSpace","regex","str","reversedStr","join","cidx","len","firstChar","match","triggerIdx","wnd","windowWidth","windowHeight","doc","documentElement","windowLeft","pageXOffset","scrollLeft","clientLeft","windowTop","pageYOffset","clientTop","menuTop","menuRight","menuBottom","menuLeft","Math","floor","ceil","dimensions","position","flipped","isFirefox","mozInnerScreenX","div","computed","whiteSpace","wordWrap","visibility","prop","overflowY","overflow","span","rect","menuContainerIsBody","offsetTop","borderTopWidth","fontSize","offsetLeft","borderLeftWidth","getMenuDimensions","wasOffscreenBottom","parentRect","bodyMarginBottom","getPropertyValue","clientRect","elemTop","elemBottom","maxY","targetY","5","TributeSearch","pattern","array","opts","compareString","caseSensitive","rendered","score","patternCache","traverse","render","cache","stringIndex","patternIndex","calculateScore","best","temp","pop","indices","reduce","prev","sort","b","compare","6","./Tribute","7","predicate","list","thisArg","params","cancelable","evt","createEvent","initCustomEvent","Event"],"mappings":"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","file":"tribute.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Tribute = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nrequire(\"./utils\");\n\nvar _TributeEvents = _interopRequireDefault(require(\"./TributeEvents\"));\n\nvar _TributeMenuEvents = _interopRequireDefault(require(\"./TributeMenuEvents\"));\n\nvar _TributeRange = _interopRequireDefault(require(\"./TributeRange\"));\n\nvar _TributeSearch = _interopRequireDefault(require(\"./TributeSearch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Tribute =\n/*#__PURE__*/\nfunction () {\n  function Tribute(_ref) {\n    var _this = this;\n\n    var _ref$values = _ref.values,\n        values = _ref$values === void 0 ? null : _ref$values,\n        _ref$iframe = _ref.iframe,\n        iframe = _ref$iframe === void 0 ? null : _ref$iframe,\n        _ref$selectClass = _ref.selectClass,\n        selectClass = _ref$selectClass === void 0 ? 'highlight' : _ref$selectClass,\n        _ref$containerClass = _ref.containerClass,\n        containerClass = _ref$containerClass === void 0 ? 'tribute-container' : _ref$containerClass,\n        _ref$itemClass = _ref.itemClass,\n        itemClass = _ref$itemClass === void 0 ? '' : _ref$itemClass,\n        _ref$trigger = _ref.trigger,\n        trigger = _ref$trigger === void 0 ? '@' : _ref$trigger,\n        _ref$autocompleteMode = _ref.autocompleteMode,\n        autocompleteMode = _ref$autocompleteMode === void 0 ? false : _ref$autocompleteMode,\n        _ref$selectTemplate = _ref.selectTemplate,\n        selectTemplate = _ref$selectTemplate === void 0 ? null : _ref$selectTemplate,\n        _ref$menuItemTemplate = _ref.menuItemTemplate,\n        menuItemTemplate = _ref$menuItemTemplate === void 0 ? null : _ref$menuItemTemplate,\n        _ref$lookup = _ref.lookup,\n        lookup = _ref$lookup === void 0 ? 'key' : _ref$lookup,\n        _ref$fillAttr = _ref.fillAttr,\n        fillAttr = _ref$fillAttr === void 0 ? 'value' : _ref$fillAttr,\n        _ref$collection = _ref.collection,\n        collection = _ref$collection === void 0 ? null : _ref$collection,\n        _ref$menuContainer = _ref.menuContainer,\n        menuContainer = _ref$menuContainer === void 0 ? null : _ref$menuContainer,\n        _ref$noMatchTemplate = _ref.noMatchTemplate,\n        noMatchTemplate = _ref$noMatchTemplate === void 0 ? null : _ref$noMatchTemplate,\n        _ref$requireLeadingSp = _ref.requireLeadingSpace,\n        requireLeadingSpace = _ref$requireLeadingSp === void 0 ? true : _ref$requireLeadingSp,\n        _ref$allowSpaces = _ref.allowSpaces,\n        allowSpaces = _ref$allowSpaces === void 0 ? false : _ref$allowSpaces,\n        _ref$replaceTextSuffi = _ref.replaceTextSuffix,\n        replaceTextSuffix = _ref$replaceTextSuffi === void 0 ? null : _ref$replaceTextSuffi,\n        _ref$positionMenu = _ref.positionMenu,\n        positionMenu = _ref$positionMenu === void 0 ? true : _ref$positionMenu,\n        _ref$spaceSelectsMatc = _ref.spaceSelectsMatch,\n        spaceSelectsMatch = _ref$spaceSelectsMatc === void 0 ? false : _ref$spaceSelectsMatc,\n        _ref$searchOpts = _ref.searchOpts,\n        searchOpts = _ref$searchOpts === void 0 ? {} : _ref$searchOpts,\n        _ref$menuItemLimit = _ref.menuItemLimit,\n        menuItemLimit = _ref$menuItemLimit === void 0 ? null : _ref$menuItemLimit,\n        _ref$menuLabel = _ref.menuLabel,\n        menuLabel = _ref$menuLabel === void 0 ? '' : _ref$menuLabel;\n\n    _classCallCheck(this, Tribute);\n\n    this.autocompleteMode = autocompleteMode;\n    this.menuSelected = 0;\n    this.current = {};\n    this.inputEvent = false;\n    this.isActive = false;\n    this.menuContainer = menuContainer;\n    this.allowSpaces = allowSpaces;\n    this.replaceTextSuffix = replaceTextSuffix;\n    this.positionMenu = positionMenu;\n    this.hasTrailingSpace = false;\n    this.spaceSelectsMatch = spaceSelectsMatch;\n\n    if (this.autocompleteMode) {\n      trigger = '';\n      allowSpaces = false;\n    }\n\n    if (values) {\n      this.collection = [{\n        // symbol that starts the lookup\n        trigger: trigger,\n        // is it wrapped in an iframe\n        iframe: iframe,\n        // class applied to selected item\n        selectClass: selectClass,\n        // class applied to the Container \n        containerClass: containerClass,\n        // class applied to each item\n        itemClass: itemClass,\n        // function called on select that retuns the content to insert\n        selectTemplate: (selectTemplate || Tribute.defaultSelectTemplate).bind(this),\n        // function called that returns content for an item\n        menuItemTemplate: (menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(this),\n        // function called when menu is empty, disables hiding of menu.\n        noMatchTemplate: function (t) {\n          if (typeof t === 'function') {\n            return t.bind(_this);\n          }\n\n          return noMatchTemplate || function () {\n            return '';\n          }.bind(_this);\n        }(noMatchTemplate),\n        // column to search against in the object\n        lookup: lookup,\n        // column that contains the content to insert by default\n        fillAttr: fillAttr,\n        // array of objects or a function returning an array of objects\n        values: values,\n        requireLeadingSpace: requireLeadingSpace,\n        searchOpts: searchOpts,\n        menuItemLimit: menuItemLimit,\n        menuLabel: menuLabel\n      }];\n    } else if (collection) {\n      if (this.autocompleteMode) console.warn('Tribute in autocomplete mode does not work for collections');\n      this.collection = collection.map(function (item) {\n        return {\n          trigger: item.trigger || trigger,\n          iframe: item.iframe || iframe,\n          selectClass: item.selectClass || selectClass,\n          containerClass: item.containerClass || containerClass,\n          itemClass: item.itemClass || itemClass,\n          selectTemplate: (item.selectTemplate || Tribute.defaultSelectTemplate).bind(_this),\n          menuItemTemplate: (item.menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(_this),\n          // function called when menu is empty, disables hiding of menu.\n          noMatchTemplate: function (t) {\n            if (typeof t === 'function') {\n              return t.bind(_this);\n            }\n\n            return null;\n          }(noMatchTemplate),\n          lookup: item.lookup || lookup,\n          fillAttr: item.fillAttr || fillAttr,\n          values: item.values,\n          requireLeadingSpace: item.requireLeadingSpace,\n          searchOpts: item.searchOpts || searchOpts,\n          menuItemLimit: item.menuItemLimit || menuItemLimit,\n          menuLabel: item.menuLabel || menuLabel\n        };\n      });\n    } else {\n      throw new Error('[Tribute] No collection specified.');\n    }\n\n    new _TributeRange[\"default\"](this);\n    new _TributeEvents[\"default\"](this);\n    new _TributeMenuEvents[\"default\"](this);\n    new _TributeSearch[\"default\"](this);\n  }\n\n  _createClass(Tribute, [{\n    key: \"triggers\",\n    value: function triggers() {\n      return this.collection.map(function (config) {\n        return config.trigger;\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(el) {\n      if (!el) {\n        throw new Error('[Tribute] Must pass in a DOM node or NodeList.');\n      } // Check if it is a jQuery collection\n\n\n      if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n        el = el.get();\n      } // Is el an Array/Array-like object?\n\n\n      if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n        var length = el.length;\n\n        for (var i = 0; i < length; ++i) {\n          this._attach(el[i]);\n        }\n      } else {\n        this._attach(el);\n      }\n    }\n  }, {\n    key: \"_attach\",\n    value: function _attach(el) {\n      if (el.hasAttribute('data-tribute')) {\n        console.warn('Tribute was already bound to ' + el.nodeName);\n      }\n\n      this.ensureEditable(el);\n      this.events.bind(el);\n      el.setAttribute('data-tribute', true);\n      el.setAttribute('aria-autocomplete', this.autocompleteMode ? 'inline' : 'list');\n      el.setAttribute('aria-owns', el.id + 'tributeResults');\n    }\n  }, {\n    key: \"ensureEditable\",\n    value: function ensureEditable(element) {\n      if (Tribute.inputTypes().indexOf(element.nodeName) === -1) {\n        if (element.contentEditable) {\n          element.contentEditable = true;\n        } else {\n          throw new Error('[Tribute] Cannot bind to ' + element.nodeName);\n        }\n      }\n    }\n  }, {\n    key: \"createMenu\",\n    value: function createMenu(containerClass) {\n      var wrapper = this.range.getDocument().createElement('div'),\n          ul = this.range.getDocument().createElement('ul');\n      wrapper.className = containerClass;\n      wrapper.appendChild(ul);\n      wrapper.setAttribute('data-cke-hidden-sel', '');\n      wrapper.setAttribute('contenteditable', 'false');\n      wrapper.style.display = 'none';\n      ul.setAttribute('role', 'listbox');\n      if (this.current.collection.menuLabel) ul.setAttribute('aria-label', this.current.collection.menuLabel);\n      this.current.element.setAttribute('aria-activedescendant', '');\n      ul.id = this.current.element.id + 'tributeResults';\n\n      if (this.menuContainer) {\n        return this.menuContainer.appendChild(wrapper);\n      }\n\n      return this.range.getDocument().body.appendChild(wrapper);\n    }\n  }, {\n    key: \"showMenuFor\",\n    value: function showMenuFor(element, scrollTo) {\n      var _this2 = this;\n\n      // Only proceed if menu isn't already shown for the current element & mentionText\n      if (this.isActive && this.current.element === element && this.current.mentionText === this.currentMentionTextSnapshot) {\n        return;\n      }\n\n      this.currentMentionTextSnapshot = this.current.mentionText; // create the menu if it doesn't exist.\n\n      if (!this.menu) {\n        this.menu = this.createMenu(this.current.collection.containerClass);\n        element.tributeMenu = this.menu;\n        this.menuEvents.bind(this.menu);\n      }\n\n      this.isActive = true;\n      this.menuSelected = 0;\n\n      if (!this.current.mentionText) {\n        this.current.mentionText = '';\n      }\n\n      var processValues = function processValues(values) {\n        // Tribute may not be active any more by the time the value callback returns\n        if (!_this2.isActive) {\n          return;\n        }\n\n        var items = _this2.search.filter(_this2.current.mentionText, values, {\n          pre: _this2.current.collection.searchOpts.pre || '<span>',\n          post: _this2.current.collection.searchOpts.post || '</span>',\n          skip: _this2.current.collection.searchOpts.skip,\n          extract: function extract(el) {\n            if (typeof _this2.current.collection.lookup === 'string') {\n              return el[_this2.current.collection.lookup];\n            } else if (typeof _this2.current.collection.lookup === 'function') {\n              return _this2.current.collection.lookup(el, _this2.current.mentionText);\n            } else {\n              throw new Error('Invalid lookup attribute, lookup must be string or function.');\n            }\n          }\n        });\n\n        if (_this2.current.collection.menuItemLimit) {\n          items = items.slice(0, _this2.current.collection.menuItemLimit);\n        }\n\n        _this2.current.filteredItems = items;\n\n        var ul = _this2.menu.querySelector('ul');\n\n        _this2.range.positionMenuAtCaret(scrollTo);\n\n        if (!items.length) {\n          var noMatchEvent = new CustomEvent('tribute-no-match', {\n            detail: _this2.menu\n          });\n\n          _this2.current.element.dispatchEvent(noMatchEvent);\n\n          if (typeof _this2.current.collection.noMatchTemplate === 'function' && !_this2.current.collection.noMatchTemplate() || !_this2.current.collection.noMatchTemplate) {\n            _this2.hideMenu();\n          } else {\n            typeof _this2.current.collection.noMatchTemplate === 'function' ? ul.innerHTML = _this2.current.collection.noMatchTemplate() : ul.innerHTML = _this2.current.collection.noMatchTemplate;\n          }\n\n          return;\n        }\n\n        ul.innerHTML = '';\n\n        var fragment = _this2.range.getDocument().createDocumentFragment();\n\n        items.forEach(function (item, index) {\n          var li = _this2.range.getDocument().createElement('li');\n\n          li.setAttribute('data-index', index);\n          li.setAttribute('role', 'option');\n          li.id = 'tributeitem' + index;\n          li.className = _this2.current.collection.itemClass;\n          li.addEventListener('mousemove', function (e) {\n            var _this2$_findLiTarget = _this2._findLiTarget(e.target),\n                _this2$_findLiTarget2 = _slicedToArray(_this2$_findLiTarget, 2),\n                li = _this2$_findLiTarget2[0],\n                index = _this2$_findLiTarget2[1];\n\n            if (e.movementY !== 0) {\n              _this2.events.setActiveLi(index);\n            }\n          });\n          li.innerHTML = _this2.current.collection.menuItemTemplate(item);\n          fragment.appendChild(li);\n        });\n        ul.appendChild(fragment);\n\n        _this2.current.element.setAttribute('aria-activedescendant', '');\n\n        _this2.events.setActiveLi(_this2.menuSelected);\n\n        var matchEvent = new CustomEvent('tribute-match', {\n          detail: _this2.menu\n        });\n\n        _this2.current.element.dispatchEvent(matchEvent);\n      };\n\n      if (typeof this.current.collection.values === 'function') {\n        this.current.collection.values(this.current.mentionText, processValues);\n      } else {\n        processValues(this.current.collection.values);\n      }\n    }\n  }, {\n    key: \"_findLiTarget\",\n    value: function _findLiTarget(el) {\n      if (!el) return [];\n      var index = el.getAttribute('data-index');\n      return !index ? this._findLiTarget(el.parentNode) : [el, index];\n    }\n  }, {\n    key: \"showMenuForCollection\",\n    value: function showMenuForCollection(element, collectionIndex) {\n      if (element !== document.activeElement) {\n        this.placeCaretAtEnd(element);\n      }\n\n      this.current.collection = this.collection[collectionIndex || 0];\n      this.current.externalTrigger = true;\n      this.current.element = element;\n      if (element.isContentEditable) this.insertTextAtCursor(this.current.collection.trigger);else this.insertAtCaret(element, this.current.collection.trigger);\n      this.showMenuFor(element);\n    } // TODO: make sure this works for inputs/textareas\n\n  }, {\n    key: \"placeCaretAtEnd\",\n    value: function placeCaretAtEnd(el) {\n      el.focus();\n\n      if (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n        var range = document.createRange();\n        range.selectNodeContents(el);\n        range.collapse(false);\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n      } else if (typeof document.body.createTextRange != \"undefined\") {\n        var textRange = document.body.createTextRange();\n        textRange.moveToElementText(el);\n        textRange.collapse(false);\n        textRange.select();\n      }\n    } // for contenteditable\n\n  }, {\n    key: \"insertTextAtCursor\",\n    value: function insertTextAtCursor(text) {\n      var sel, range, html;\n      sel = window.getSelection();\n      range = sel.getRangeAt(0);\n      range.deleteContents();\n      var textNode = document.createTextNode(text);\n      range.insertNode(textNode);\n      range.selectNodeContents(textNode);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n    } // for regular inputs\n\n  }, {\n    key: \"insertAtCaret\",\n    value: function insertAtCaret(textarea, text) {\n      var scrollPos = textarea.scrollTop;\n      var caretPos = textarea.selectionStart;\n      var front = textarea.value.substring(0, caretPos);\n      var back = textarea.value.substring(textarea.selectionEnd, textarea.value.length);\n      textarea.value = front + text + back;\n      caretPos = caretPos + text.length;\n      textarea.selectionStart = caretPos;\n      textarea.selectionEnd = caretPos;\n      textarea.focus();\n      textarea.scrollTop = scrollPos;\n    }\n  }, {\n    key: \"hideMenu\",\n    value: function hideMenu() {\n      if (this.menu) {\n        this.menu.style.cssText = \"position:absolute;\\n                                       left:-1000px;\\n                                       top:auto;\\n                                       height:1px;\\n                                       width:1px;\\n                                       overflow:hidden;\";\n        this.isActive = false;\n        this.menuSelected = 0;\n        this.current = {};\n      }\n    }\n  }, {\n    key: \"removeMenu\",\n    value: function removeMenu() {\n      if (this.menu) {\n        this.menuEvents.unbind(this.menu);\n        if (this.menu.parentNode) this.menu.parentNode.removeChild(this.menu);\n        this.menu = null;\n        this.isActive = false;\n        this.menuSelected = 0;\n        this.current = {};\n      }\n    }\n  }, {\n    key: \"selectItemAtIndex\",\n    value: function selectItemAtIndex(index, originalEvent) {\n      index = parseInt(index);\n      if (typeof index !== 'number' || isNaN(index)) return;\n      var item = this.current.filteredItems[index];\n      var content = this.current.collection.selectTemplate(item);\n      if (content !== null) this.replaceText(content, originalEvent, item);\n    }\n  }, {\n    key: \"replaceText\",\n    value: function replaceText(content, originalEvent, item) {\n      this.range.replaceTriggerText(content, true, true, originalEvent, item);\n    }\n  }, {\n    key: \"_append\",\n    value: function _append(collection, newValues, replace) {\n      if (typeof collection.values === 'function') {\n        throw new Error('Unable to append to values, as it is a function.');\n      } else if (!replace) {\n        collection.values = collection.values.concat(newValues);\n      } else {\n        collection.values = newValues;\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(collectionIndex, newValues, replace) {\n      var index = parseInt(collectionIndex);\n      if (typeof index !== 'number') throw new Error('please provide an index for the collection to update.');\n      var collection = this.collection[index];\n\n      this._append(collection, newValues, replace);\n    }\n  }, {\n    key: \"appendCurrent\",\n    value: function appendCurrent(newValues, replace) {\n      if (this.isActive) {\n        this._append(this.current.collection, newValues, replace);\n      } else {\n        throw new Error('No active state. Please use append instead and pass an index.');\n      }\n    }\n  }, {\n    key: \"detach\",\n    value: function detach(el) {\n      if (!el) {\n        throw new Error('[Tribute] Must pass in a DOM node or NodeList.');\n      } // Check if it is a jQuery collection\n\n\n      if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n        el = el.get();\n      } // Is el an Array/Array-like object?\n\n\n      if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n        var length = el.length;\n\n        for (var i = 0; i < length; ++i) {\n          this._detach(el[i]);\n        }\n      } else {\n        this._detach(el);\n      }\n    }\n  }, {\n    key: \"_detach\",\n    value: function _detach(el) {\n      var _this3 = this;\n\n      this.events.unbind(el);\n\n      if (el.tributeMenu) {\n        this.menuEvents.unbind(el.tributeMenu);\n      }\n\n      setTimeout(function () {\n        el.removeAttribute('data-tribute');\n        _this3.isActive = false;\n\n        if (el.tributeMenu && el.tributeMenu.parentNode) {\n          el.tributeMenu.parentNode.removeChild(el.tributeMenu);\n        }\n      });\n    }\n  }], [{\n    key: \"defaultSelectTemplate\",\n    value: function defaultSelectTemplate(item) {\n      if (typeof item === 'undefined') return null;\n\n      if (this.range.isContentEditable(this.current.element)) {\n        return '<span class=\"tribute-mention\">' + (this.current.collection.trigger + item.original[this.current.collection.fillAttr]) + '</span>';\n      }\n\n      return this.current.collection.trigger + item.original[this.current.collection.fillAttr];\n    }\n  }, {\n    key: \"defaultMenuItemTemplate\",\n    value: function defaultMenuItemTemplate(matchItem) {\n      return matchItem.string;\n    }\n  }, {\n    key: \"inputTypes\",\n    value: function inputTypes() {\n      return ['TEXTAREA', 'INPUT'];\n    }\n  }]);\n\n  return Tribute;\n}();\n\nvar _default = Tribute;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{\"./TributeEvents\":2,\"./TributeMenuEvents\":3,\"./TributeRange\":4,\"./TributeSearch\":5,\"./utils\":7}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TributeEvents =\n/*#__PURE__*/\nfunction () {\n  function TributeEvents(tribute) {\n    _classCallCheck(this, TributeEvents);\n\n    this.tribute = tribute;\n    this.tribute.events = this;\n  }\n\n  _createClass(TributeEvents, [{\n    key: \"bind\",\n    value: function bind(element) {\n      element.boundKeydown = this.keydown.bind(element, this);\n      element.boundKeyup = this.keyup.bind(element, this);\n      element.boundInput = this.input.bind(element, this);\n      element.boundBlur = this.blur.bind(element, this);\n      element.addEventListener('keydown', element.boundKeydown, false);\n      element.addEventListener('keyup', element.boundKeyup, false);\n      element.addEventListener('input', element.boundInput, false);\n      element.addEventListener('blur', element.boundBlur, false);\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(element) {\n      element.removeEventListener('keydown', element.boundKeydown, false);\n      element.removeEventListener('keyup', element.boundKeyup, false);\n      element.removeEventListener('input', element.boundInput, false);\n      element.removeEventListener('blur', element.boundBlur, false);\n      delete element.boundKeydown;\n      delete element.boundKeyup;\n      delete element.boundInput;\n      delete element.boundBlur;\n    }\n  }, {\n    key: \"keydown\",\n    value: function keydown(instance, event) {\n      if (instance.shouldDeactivate(event)) {\n        instance.tribute.isActive = false;\n        instance.tribute.hideMenu();\n      }\n\n      if (event.keyCode === 9) return;\n      var element = this;\n      instance.commandEvent = false;\n      TributeEvents.keys().forEach(function (o) {\n        if (o.key === event.keyCode) {\n          instance.commandEvent = true;\n          instance.callbacks()[o.value.toLowerCase()](event, element);\n        }\n      });\n    }\n  }, {\n    key: \"input\",\n    value: function input(instance, event) {\n      instance.inputEvent = true;\n      instance.keyup.call(this, instance, event);\n    }\n  }, {\n    key: \"click\",\n    value: function click(instance, event) {\n      var tribute = instance.tribute;\n\n      if (tribute.menu && tribute.menu.contains(event.target)) {\n        var li = event.target;\n        event.preventDefault();\n        event.stopPropagation();\n\n        while (li.nodeName.toLowerCase() !== 'li') {\n          li = li.parentNode;\n\n          if (!li || li === tribute.menu) {\n            throw new Error('cannot find the <li> container for the click');\n          }\n        }\n\n        tribute.selectItemAtIndex(li.getAttribute('data-index'), event);\n        tribute.hideMenu(); // TODO: should fire with externalTrigger and target is outside of menu\n      } else if (tribute.current.element && !tribute.current.externalTrigger) {\n        tribute.current.externalTrigger = false;\n        setTimeout(function () {\n          return tribute.hideMenu();\n        });\n      }\n    }\n  }, {\n    key: \"keyup\",\n    value: function keyup(instance, event) {\n      if (instance.inputEvent) {\n        instance.inputEvent = false;\n      }\n\n      instance.updateSelection(this);\n      if (event.keyCode === 27 || event.keyCode === 9) return;\n\n      if (!instance.tribute.allowSpaces && instance.tribute.hasTrailingSpace) {\n        instance.tribute.hasTrailingSpace = false;\n        instance.commandEvent = true;\n        instance.callbacks()[\"space\"](event, this);\n        return;\n      }\n\n      if (!instance.tribute.isActive) {\n        if (instance.tribute.autocompleteMode) {\n          instance.callbacks().triggerChar(event, this, '');\n        } else {\n          var keyCode = instance.getKeyCode(instance, this, event);\n          if (isNaN(keyCode) || !keyCode) return;\n          var trigger = instance.tribute.triggers().find(function (trigger) {\n            return trigger.charCodeAt(0) === keyCode;\n          });\n\n          if (typeof trigger !== 'undefined') {\n            instance.callbacks().triggerChar(event, this, trigger);\n          }\n        }\n      }\n\n      if ((instance.tribute.current.trigger || instance.tribute.autocompleteMode) && instance.commandEvent === false || instance.tribute.current.trigger && event.keyCode === 8) {\n        instance.tribute.showMenuFor(this, true);\n      }\n    }\n  }, {\n    key: \"shouldDeactivate\",\n    value: function shouldDeactivate(event) {\n      if (!this.tribute.isActive) return false;\n\n      if (this.tribute.current.mentionText.length === 0) {\n        var eventKeyPressed = false;\n        TributeEvents.keys().forEach(function (o) {\n          if (event.keyCode === o.key) eventKeyPressed = true;\n        });\n        return !eventKeyPressed;\n      }\n\n      if (event.keyCode === 35 || event.keyCode === 36) return true;else return false;\n    }\n  }, {\n    key: \"getKeyCode\",\n    value: function getKeyCode(instance, el, event) {\n      var _char;\n\n      var tribute = instance.tribute;\n      var info = tribute.range.getTriggerInfo(false, tribute.hasTrailingSpace, true, tribute.allowSpaces, tribute.autocompleteMode);\n\n      if (info) {\n        return info.mentionTriggerChar.charCodeAt(0);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"updateSelection\",\n    value: function updateSelection(el) {\n      this.tribute.current.element = el;\n      var info = this.tribute.range.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n\n      if (info) {\n        this.tribute.current.selectedPath = info.mentionSelectedPath;\n        this.tribute.current.mentionText = info.mentionText;\n        this.tribute.current.selectedOffset = info.mentionSelectedOffset;\n      }\n    }\n  }, {\n    key: \"callbacks\",\n    value: function callbacks() {\n      var _this = this;\n\n      return {\n        triggerChar: function triggerChar(e, el, trigger) {\n          var tribute = _this.tribute;\n          tribute.current.trigger = trigger;\n          var collectionItem = tribute.collection.find(function (item) {\n            return item.trigger === trigger;\n          });\n          tribute.current.collection = collectionItem;\n          if (tribute.inputEvent) tribute.showMenuFor(el, true);\n        },\n        enter: function enter(e, el) {\n          // choose selection\n          if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n            e.preventDefault();\n            e.stopPropagation();\n            setTimeout(function () {\n              _this.tribute.selectItemAtIndex(_this.tribute.menuSelected, e);\n\n              _this.tribute.hideMenu();\n            }, 0);\n          }\n        },\n        escape: function escape(e, el) {\n          if (_this.tribute.isActive) {\n            e.preventDefault();\n            e.stopPropagation();\n            _this.tribute.isActive = false;\n\n            _this.tribute.hideMenu();\n          }\n        },\n        space: function space(e, el) {\n          if (_this.tribute.isActive) {\n            if (_this.tribute.spaceSelectsMatch) {\n              _this.callbacks().enter(e, el);\n            } else if (!_this.tribute.allowSpaces) {\n              e.stopPropagation();\n              setTimeout(function () {\n                _this.tribute.hideMenu();\n\n                _this.tribute.isActive = false;\n              }, 0);\n            }\n          }\n        },\n        up: function up(e, el) {\n          // navigate up ul\n          if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n            e.preventDefault();\n            e.stopPropagation();\n            var count = _this.tribute.current.filteredItems.length,\n                selected = _this.tribute.menuSelected;\n\n            if (count > selected && selected > 0) {\n              _this.tribute.menuSelected--;\n\n              _this.setActiveLi();\n            } else if (selected === 0) {\n              _this.tribute.menuSelected = count - 1;\n\n              _this.setActiveLi();\n\n              _this.tribute.menu.scrollTop = _this.tribute.menu.scrollHeight;\n            }\n          }\n        },\n        down: function down(e, el) {\n          // navigate down ul\n          if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n            e.preventDefault();\n            e.stopPropagation();\n            var count = _this.tribute.current.filteredItems.length - 1,\n                selected = _this.tribute.menuSelected;\n\n            if (count > selected) {\n              _this.tribute.menuSelected++;\n\n              _this.setActiveLi();\n            } else if (count === selected) {\n              _this.tribute.menuSelected = 0;\n\n              _this.setActiveLi();\n\n              _this.tribute.menu.scrollTop = 0;\n            }\n          }\n        },\n        \"delete\": function _delete(e, el) {\n          if (_this.tribute.isActive && _this.tribute.current.mentionText.length < 1) {\n            _this.tribute.hideMenu();\n          } else if (_this.tribute.isActive) {\n            _this.tribute.showMenuFor(el);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"setActiveLi\",\n    value: function setActiveLi(index) {\n      var lis = this.tribute.menu.querySelectorAll('li'),\n          length = lis.length >>> 0;\n      if (index) this.tribute.menuSelected = parseInt(index);\n\n      for (var i = 0; i < length; i++) {\n        var li = lis[i];\n\n        if (i === this.tribute.menuSelected) {\n          li.classList.add(this.tribute.current.collection.selectClass);\n          var liClientRect = li.getBoundingClientRect();\n          var menuClientRect = this.tribute.menu.getBoundingClientRect();\n\n          if (liClientRect.bottom > menuClientRect.bottom) {\n            var scrollDistance = liClientRect.bottom - menuClientRect.bottom;\n            this.tribute.menu.scrollTop += scrollDistance;\n          } else if (liClientRect.top < menuClientRect.top) {\n            var _scrollDistance = menuClientRect.top - liClientRect.top;\n\n            this.tribute.menu.scrollTop -= _scrollDistance;\n          }\n\n          li.setAttribute('aria-selected', 'true');\n          this.tribute.current.element.setAttribute('aria-activedescendant', li.id);\n        } else {\n          li.classList.remove(this.tribute.current.collection.selectClass);\n          li.setAttribute('aria-selected', 'false');\n        }\n      }\n    }\n  }, {\n    key: \"getFullHeight\",\n    value: function getFullHeight(elem, includeMargin) {\n      var height = elem.getBoundingClientRect().height;\n\n      if (includeMargin) {\n        var style = elem.currentStyle || window.getComputedStyle(elem);\n        return height + parseFloat(style.marginTop) + parseFloat(style.marginBottom);\n      }\n\n      return height;\n    }\n  }, {\n    key: \"blur\",\n    value: function blur(instance, event) {\n      instance.tribute.removeMenu();\n    }\n  }], [{\n    key: \"keys\",\n    value: function keys() {\n      return [{\n        key: 8,\n        value: 'DELETE'\n      }, {\n        key: 13,\n        value: 'ENTER'\n      }, {\n        key: 27,\n        value: 'ESCAPE'\n      }, {\n        key: 32,\n        value: 'SPACE'\n      }, {\n        key: 38,\n        value: 'UP'\n      }, {\n        key: 40,\n        value: 'DOWN'\n      }];\n    }\n  }]);\n\n  return TributeEvents;\n}();\n\nvar _default = TributeEvents;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TributeMenuEvents =\n/*#__PURE__*/\nfunction () {\n  function TributeMenuEvents(tribute) {\n    _classCallCheck(this, TributeMenuEvents);\n\n    this.tribute = tribute;\n    this.tribute.menuEvents = this;\n    this.menu = this.tribute.menu;\n  }\n\n  _createClass(TributeMenuEvents, [{\n    key: \"bind\",\n    value: function bind(menu) {\n      var _this = this;\n\n      this.menuClickEvent = this.tribute.events.click.bind(null, this);\n      this.menuContainerScrollEvent = this.debounce(function () {\n        if (_this.tribute.isActive) {\n          _this.tribute.showMenuFor(_this.tribute.current.element, false);\n        }\n      }, 300, false);\n      this.windowResizeEvent = this.debounce(function () {\n        if (_this.tribute.isActive) {\n          _this.tribute.range.positionMenuAtCaret(true);\n        }\n      }, 300, false); // fixes IE11 issues with mousedown\n\n      this.tribute.range.getDocument().addEventListener('MSPointerDown', this.menuClickEvent, false);\n      this.tribute.range.getDocument().addEventListener('mousedown', this.menuClickEvent, false);\n      window.addEventListener('resize', this.windowResizeEvent);\n\n      if (this.menuContainer) {\n        this.menuContainer.addEventListener('scroll', this.menuContainerScrollEvent, false);\n      } else {\n        window.addEventListener('scroll', this.menuContainerScrollEvent);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(menu) {\n      this.tribute.range.getDocument().removeEventListener('mousedown', this.menuClickEvent, false);\n      this.tribute.range.getDocument().removeEventListener('MSPointerDown', this.menuClickEvent, false);\n      window.removeEventListener('resize', this.windowResizeEvent);\n\n      if (this.menuContainer) {\n        this.menuContainer.removeEventListener('scroll', this.menuContainerScrollEvent, false);\n      } else {\n        window.removeEventListener('scroll', this.menuContainerScrollEvent);\n      }\n    }\n  }, {\n    key: \"debounce\",\n    value: function debounce(func, wait, immediate) {\n      var _this2 = this,\n          _arguments = arguments;\n\n      var timeout;\n      return function () {\n        var context = _this2,\n            args = _arguments;\n\n        var later = function later() {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    }\n  }]);\n\n  return TributeMenuEvents;\n}();\n\nvar _default = TributeMenuEvents;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nrequire(\"./utils\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TributeRange =\n/*#__PURE__*/\nfunction () {\n  function TributeRange(tribute) {\n    _classCallCheck(this, TributeRange);\n\n    this.tribute = tribute;\n    this.tribute.range = this;\n  }\n\n  _createClass(TributeRange, [{\n    key: \"getDocument\",\n    value: function getDocument() {\n      var iframe;\n\n      if (this.tribute.current.collection) {\n        iframe = this.tribute.current.collection.iframe;\n      }\n\n      if (!iframe) {\n        return document;\n      }\n\n      if (iframe.contentWindow) return iframe.contentWindow.document;else return iframe.document;\n    }\n  }, {\n    key: \"positionMenuAtCaret\",\n    value: function positionMenuAtCaret(scrollTo) {\n      var _this = this;\n\n      var context = this.tribute.current,\n          coordinates;\n      var info = this.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n\n      if (typeof info !== 'undefined') {\n        if (!this.tribute.positionMenu) {\n          this.tribute.menu.style.cssText = \"display: block;\";\n          return;\n        }\n\n        if (!this.isContentEditable(context.element)) {\n          coordinates = this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element, info.mentionPosition);\n        } else {\n          coordinates = this.getContentEditableCaretPosition(info);\n        }\n\n        this.tribute.menu.style.cssText = \"top: \".concat(coordinates.top, \"px;\\n                                     left: \").concat(coordinates.left, \"px;\\n                                     right: \").concat(coordinates.right, \"px;\\n                                     bottom: \").concat(coordinates.bottom, \"px;\\n                                     position: absolute;\\n                                     display: block;\\n                                     height: \").concat(coordinates.height, \"px;\");\n\n        if (coordinates.left === 'auto') {\n          this.tribute.menu.style.left = 'auto';\n        }\n\n        if (coordinates.top === 'auto') {\n          this.tribute.menu.style.top = 'auto';\n        }\n\n        if (scrollTo) this.scrollIntoView();\n        window.setTimeout(function () {\n          if (_this.tribute.menu) {\n            var menuDimensions = {\n              width: _this.tribute.menu.offsetWidth,\n              height: _this.tribute.menu.offsetHeight\n            };\n\n            var menuIsOffScreen = _this.isMenuOffScreen(coordinates, menuDimensions, _this.tribute.current.collection ? _this.tribute.current.collection.iframe : window);\n\n            var menuIsOffScreenHorizontally = window.innerWidth > menuDimensions.width && (menuIsOffScreen.left || menuIsOffScreen.right);\n            var menuIsOffScreenVertically = window.innerHeight > menuDimensions.height && (menuIsOffScreen.top || menuIsOffScreen.bottom);\n\n            if (menuIsOffScreenHorizontally || menuIsOffScreenVertically) {\n              _this.tribute.menu.style.cssText = 'display: none';\n\n              _this.positionMenuAtCaret(scrollTo);\n            }\n          }\n        }, 0);\n      } else {\n        this.tribute.menu.style.cssText = 'display: none';\n      }\n    }\n  }, {\n    key: \"selectElement\",\n    value: function selectElement(targetElement, path, offset) {\n      var range;\n      var elem = targetElement;\n\n      if (path) {\n        for (var i = 0; i < path.length; i++) {\n          elem = elem.childNodes[path[i]];\n\n          if (elem === undefined) {\n            return;\n          }\n\n          while (elem.length < offset) {\n            offset -= elem.length;\n            elem = elem.nextSibling;\n          }\n\n          if (elem.childNodes.length === 0 && !elem.length) {\n            elem = elem.previousSibling;\n          }\n        }\n      }\n\n      var sel = this.getWindowSelection();\n      range = this.getDocument().createRange();\n      range.setStart(elem, offset);\n      range.setEnd(elem, offset);\n      range.collapse(true);\n\n      try {\n        sel.removeAllRanges();\n      } catch (error) {}\n\n      sel.addRange(range);\n      targetElement.focus();\n    }\n  }, {\n    key: \"replaceTriggerText\",\n    value: function replaceTriggerText(text, requireLeadingSpace, hasTrailingSpace, originalEvent, item) {\n      var info = this.getTriggerInfo(true, hasTrailingSpace, requireLeadingSpace, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n\n      if (info !== undefined) {\n        var context = this.tribute.current;\n        var replaceEvent = new CustomEvent('tribute-replaced', {\n          detail: {\n            item: item,\n            instance: context,\n            context: info,\n            event: originalEvent\n          }\n        });\n\n        if (!this.isContentEditable(context.element)) {\n          var myField = this.tribute.current.element;\n          var textSuffix = typeof this.tribute.replaceTextSuffix == 'string' ? this.tribute.replaceTextSuffix : ' ';\n          text += textSuffix;\n          var startPos = info.mentionPosition;\n          var endPos = info.mentionPosition + info.mentionText.length + textSuffix.length;\n\n          if (!this.tribute.autocompleteMode) {\n            endPos += info.mentionTriggerChar.length - 1;\n          }\n\n          myField.value = myField.value.substring(0, startPos) + text + myField.value.substring(endPos, myField.value.length);\n          myField.selectionStart = startPos + text.length;\n          myField.selectionEnd = startPos + text.length;\n        } else {\n          // add a space to the end of the pasted text\n          var _textSuffix = typeof this.tribute.replaceTextSuffix == 'string' ? this.tribute.replaceTextSuffix : '\\xA0';\n\n          text += _textSuffix;\n\n          var _endPos = info.mentionPosition + info.mentionText.length;\n\n          if (!this.tribute.autocompleteMode) {\n            _endPos += info.mentionTriggerChar.length;\n          }\n\n          this.pasteHtml(text, info.mentionPosition, _endPos);\n        }\n\n        context.element.dispatchEvent(new CustomEvent('input', {\n          bubbles: true\n        }));\n        context.element.dispatchEvent(replaceEvent);\n      }\n    }\n  }, {\n    key: \"pasteHtml\",\n    value: function pasteHtml(html, startPos, endPos) {\n      var range, sel;\n      sel = this.getWindowSelection();\n      range = this.getDocument().createRange();\n      range.setStart(sel.anchorNode, startPos);\n      range.setEnd(sel.anchorNode, endPos);\n      range.deleteContents();\n      var el = this.getDocument().createElement('div');\n      el.innerHTML = html;\n      var frag = this.getDocument().createDocumentFragment(),\n          node,\n          lastNode;\n\n      while (node = el.firstChild) {\n        lastNode = frag.appendChild(node);\n      }\n\n      range.insertNode(frag); // Preserve the selection\n\n      if (lastNode) {\n        range = range.cloneRange();\n        range.setStartAfter(lastNode);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    }\n  }, {\n    key: \"getWindowSelection\",\n    value: function getWindowSelection() {\n      if (this.tribute.collection[0].iframe) {\n        if (this.tribute.collection[0].iframe.contentWindow) return this.tribute.collection[0].iframe.contentWindow.getSelection();else return this.tribute.collection[0].iframe.getSelection();\n      }\n\n      return window.getSelection();\n    }\n  }, {\n    key: \"getNodePositionInParent\",\n    value: function getNodePositionInParent(element) {\n      if (element.parentNode === null) {\n        return 0;\n      }\n\n      for (var i = 0; i < element.parentNode.childNodes.length; i++) {\n        var node = element.parentNode.childNodes[i];\n\n        if (node === element) {\n          return i;\n        }\n      }\n    }\n  }, {\n    key: \"getContentEditableSelectedPath\",\n    value: function getContentEditableSelectedPath(ctx) {\n      var sel = this.getWindowSelection();\n      var selected = sel.anchorNode;\n      var path = [];\n      var offset;\n\n      if (selected != null) {\n        var i;\n        var ce = selected.contentEditable;\n\n        while (selected !== null && ce !== 'true') {\n          i = this.getNodePositionInParent(selected);\n          path.push(i);\n          selected = selected.parentNode;\n\n          if (selected !== null) {\n            ce = selected.contentEditable;\n          }\n        }\n\n        path.reverse(); // getRangeAt may not exist, need alternative\n\n        offset = sel.getRangeAt(0).startOffset;\n        return {\n          selected: selected,\n          path: path,\n          offset: offset\n        };\n      }\n    }\n  }, {\n    key: \"getTextPrecedingCurrentSelection\",\n    value: function getTextPrecedingCurrentSelection() {\n      var context = this.tribute.current,\n          text = '';\n\n      if (!this.isContentEditable(context.element)) {\n        var textComponent = this.tribute.current.element;\n\n        if (textComponent) {\n          var startPos = textComponent.selectionStart;\n\n          if (textComponent.value && startPos >= 0) {\n            text = textComponent.value.substring(0, startPos);\n          }\n        }\n      } else {\n        var selectedElem = this.getWindowSelection().anchorNode;\n\n        if (selectedElem != null) {\n          var workingNodeContent = selectedElem.textContent;\n          var startContainer = this.getWindowSelection().getRangeAt(0).startContainer;\n          var selectStartOffset = this.getWindowSelection().getRangeAt(0).startOffset;\n\n          if (startContainer.nodeType == 3) {\n            if (workingNodeContent && selectStartOffset >= 0) {\n              text = workingNodeContent.substring(0, selectStartOffset);\n            }\n          } else if (startContainer.nodeType == 1 && workingNodeContent) {\n            //cursor is not in a text node, so rebuild the appropriate text value\n            workingNodeContent = '';\n\n            for (var x = 0; x < selectStartOffset; x++) {\n              workingNodeContent += startContainer.childNodes[x].textContent;\n            }\n\n            text = workingNodeContent;\n          }\n        }\n      }\n\n      return text;\n    }\n  }, {\n    key: \"getLastWordInText\",\n    value: function getLastWordInText(text) {\n      text = text.replace(/\\u00A0/g, ' '); // https://stackoverflow.com/questions/29850407/how-do-i-replace-unicode-character-u00a0-with-a-space-in-javascript\n\n      var wordsArray = text.split(/\\s+/);\n      var worldsCount = wordsArray.length - 1;\n      return wordsArray[worldsCount].trim();\n    }\n  }, {\n    key: \"getTriggerInfo\",\n    value: function getTriggerInfo(menuAlreadyActive, hasTrailingSpace, requireLeadingSpace, allowSpaces, isAutocomplete) {\n      var _this2 = this;\n\n      var ctx = this.tribute.current;\n      var selected, path, offset;\n\n      if (!this.isContentEditable(ctx.element)) {\n        selected = this.tribute.current.element;\n      } else {\n        var selectionInfo = this.getContentEditableSelectedPath(ctx);\n\n        if (selectionInfo) {\n          selected = selectionInfo.selected;\n          path = selectionInfo.path;\n          offset = selectionInfo.offset;\n        }\n      }\n\n      var effectiveRange = this.getTextPrecedingCurrentSelection();\n      var lastWordOfEffectiveRange = this.getLastWordInText(effectiveRange);\n\n      if (isAutocomplete) {\n        return {\n          mentionPosition: effectiveRange.length - lastWordOfEffectiveRange.length,\n          mentionText: lastWordOfEffectiveRange,\n          mentionSelectedElement: selected,\n          mentionSelectedPath: path,\n          mentionSelectedOffset: offset\n        };\n      }\n\n      if (effectiveRange !== undefined && effectiveRange !== null) {\n        var mostRecentTriggerCharPos = -1;\n        var triggerChar;\n        this.tribute.collection.forEach(function (config) {\n          var c = config.trigger;\n          var idx = config.requireLeadingSpace ? _this2.lastIndexWithLeadingSpace(effectiveRange, c) : effectiveRange.lastIndexOf(c);\n\n          if (idx > mostRecentTriggerCharPos) {\n            mostRecentTriggerCharPos = idx;\n            triggerChar = c;\n            requireLeadingSpace = config.requireLeadingSpace;\n          }\n        });\n\n        if (mostRecentTriggerCharPos >= 0 && (mostRecentTriggerCharPos === 0 || !requireLeadingSpace || /[\\xA0\\s]/g.test(effectiveRange.substring(mostRecentTriggerCharPos - 1, mostRecentTriggerCharPos)))) {\n          var currentTriggerSnippet = effectiveRange.substring(mostRecentTriggerCharPos + triggerChar.length, effectiveRange.length);\n          triggerChar = effectiveRange.substring(mostRecentTriggerCharPos, mostRecentTriggerCharPos + triggerChar.length);\n          var firstSnippetChar = currentTriggerSnippet.substring(0, 1);\n          var leadingSpace = currentTriggerSnippet.length > 0 && (firstSnippetChar === ' ' || firstSnippetChar === '\\xA0');\n\n          if (hasTrailingSpace) {\n            currentTriggerSnippet = currentTriggerSnippet.trim();\n          }\n\n          var regex = allowSpaces ? /[^\\S ]/g : /[\\xA0\\s]/g;\n          this.tribute.hasTrailingSpace = regex.test(currentTriggerSnippet);\n\n          if (!leadingSpace && (menuAlreadyActive || !regex.test(currentTriggerSnippet))) {\n            return {\n              mentionPosition: mostRecentTriggerCharPos,\n              mentionText: currentTriggerSnippet,\n              mentionSelectedElement: selected,\n              mentionSelectedPath: path,\n              mentionSelectedOffset: offset,\n              mentionTriggerChar: triggerChar\n            };\n          }\n        }\n      }\n    }\n  }, {\n    key: \"lastIndexWithLeadingSpace\",\n    value: function lastIndexWithLeadingSpace(str, trigger) {\n      var reversedStr = str.split('').reverse().join('');\n      var index = -1;\n\n      for (var cidx = 0, len = str.length; cidx < len; cidx++) {\n        var firstChar = cidx === str.length - 1;\n        var leadingSpace = /\\s/.test(reversedStr[cidx + 1]);\n        var match = true;\n\n        for (var triggerIdx = trigger.length - 1; triggerIdx >= 0; triggerIdx--) {\n          if (trigger[triggerIdx] !== reversedStr[cidx - triggerIdx]) {\n            match = false;\n            break;\n          }\n        }\n\n        if (match && (firstChar || leadingSpace)) {\n          index = str.length - 1 - cidx;\n          break;\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: \"isContentEditable\",\n    value: function isContentEditable(element) {\n      return element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n    }\n  }, {\n    key: \"isMenuOffScreen\",\n    value: function isMenuOffScreen(coordinates, menuDimensions, iframe) {\n      var wnd = iframe || window;\n      var windowWidth = wnd.innerWidth;\n      var windowHeight = wnd.innerHeight;\n      var doc = wnd.document.documentElement;\n      var windowLeft = (wnd.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var windowTop = (wnd.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      var menuTop = typeof coordinates.top === 'number' ? coordinates.top : windowHeight - coordinates.bottom - menuDimensions.height;\n      var menuRight = typeof coordinates.right === 'number' ? coordinates.right : coordinates.left + menuDimensions.width;\n      var menuBottom = typeof coordinates.bottom === 'number' ? coordinates.bottom : coordinates.top + menuDimensions.height;\n      var menuLeft = typeof coordinates.left === 'number' ? coordinates.left : windowLeft + windowWidth - coordinates.right - menuDimensions.width;\n      return {\n        top: menuTop < Math.floor(windowTop),\n        right: menuRight > Math.ceil(windowLeft + windowWidth),\n        bottom: menuBottom > Math.ceil(windowTop + windowHeight),\n        left: menuLeft < Math.floor(windowLeft)\n      };\n    }\n  }, {\n    key: \"getMenuDimensions\",\n    value: function getMenuDimensions() {\n      // Width of the menu depends of its contents and position\n      // We must check what its width would be without any obstruction\n      // This way, we can achieve good positioning for flipping the menu\n      var dimensions = {\n        width: null,\n        height: null\n      };\n      this.tribute.menu.style.cssText = \"top: 0px;\\n                                 left: 0px;\\n                                 position: fixed;\\n                                 display: block;\\n                                 visibility; hidden;\";\n      dimensions.width = this.tribute.menu.offsetWidth;\n      dimensions.height = this.tribute.menu.offsetHeight;\n      this.tribute.menu.style.cssText = \"display: none;\";\n      return dimensions;\n    }\n  }, {\n    key: \"getTextAreaOrInputUnderlinePosition\",\n    value: function getTextAreaOrInputUnderlinePosition(element, position, flipped) {\n      var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n      var isFirefox = window.mozInnerScreenX !== null;\n      var div = this.getDocument().createElement('div');\n      div.id = 'input-textarea-caret-position-mirror-div';\n      this.getDocument().body.appendChild(div);\n      var style = div.style;\n      var computed = window.getComputedStyle ? getComputedStyle(element) : element.currentStyle;\n      style.whiteSpace = 'pre-wrap';\n\n      if (element.nodeName !== 'INPUT') {\n        style.wordWrap = 'break-word';\n      } // position off-screen\n\n\n      style.position = 'absolute';\n      style.visibility = 'hidden'; // transfer the element's properties to the div\n\n      properties.forEach(function (prop) {\n        style[prop] = computed[prop];\n      });\n\n      if (isFirefox) {\n        style.width = \"\".concat(parseInt(computed.width) - 2, \"px\");\n        if (element.scrollHeight > parseInt(computed.height)) style.overflowY = 'scroll';\n      } else {\n        style.overflow = 'hidden';\n      }\n\n      div.textContent = element.value.substring(0, position);\n\n      if (element.nodeName === 'INPUT') {\n        div.textContent = div.textContent.replace(/\\s/g, '');\n      }\n\n      var span = this.getDocument().createElement('span');\n      span.textContent = element.value.substring(position) || '.';\n      div.appendChild(span);\n      var rect = element.getBoundingClientRect();\n      var doc = document.documentElement;\n      var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      var top = 0;\n      var left = 0;\n\n      if (this.menuContainerIsBody) {\n        top = rect.top;\n        left = rect.left;\n      }\n\n      var coordinates = {\n        top: top + windowTop + span.offsetTop + parseInt(computed.borderTopWidth) + parseInt(computed.fontSize) - element.scrollTop,\n        left: left + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth)\n      };\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var menuDimensions = this.getMenuDimensions();\n      var menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n\n      if (menuIsOffScreen.right) {\n        coordinates.right = windowWidth - coordinates.left;\n        coordinates.left = 'auto';\n      }\n\n      var parentHeight = this.tribute.menuContainer ? this.tribute.menuContainer.offsetHeight : this.getDocument().body.offsetHeight;\n      var wasOffscreenBottom = menuIsOffScreen.bottom;\n\n      if (menuIsOffScreen.bottom) {\n        var parentRect = this.tribute.menuContainer ? this.tribute.menuContainer.getBoundingClientRect() : this.getDocument().body.getBoundingClientRect();\n        coordinates.bottom = windowHeight - rect.top + parentRect.top;\n        coordinates.top = 'auto';\n      }\n\n      menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n\n      if (menuIsOffScreen.left) {\n        coordinates.left = windowWidth > menuDimensions.width ? windowLeft + windowWidth - menuDimensions.width : windowLeft;\n        delete coordinates.right;\n      }\n\n      if (menuIsOffScreen.top) {\n        coordinates.top = windowHeight > menuDimensions.height && !wasOffscreenBottom ? windowTop + windowHeight - menuDimensions.height : windowTop;\n        if (!wasOffscreenBottom) delete coordinates.bottom;\n      }\n\n      this.getDocument().body.removeChild(div);\n      return coordinates;\n    }\n  }, {\n    key: \"getContentEditableCaretPosition\",\n    value: function getContentEditableCaretPosition(info) {\n      var range;\n      var sel = this.getWindowSelection();\n      range = this.getDocument().createRange();\n      range.setStart(sel.anchorNode, sel.anchorNode.nodeType == 3 ? info.mentionPosition : info.mentionSelectedOffset);\n      range.setEnd(sel.anchorNode, sel.anchorNode.nodeType == 3 ? info.mentionPosition : info.mentionSelectedOffset);\n      range.collapse(false);\n      var rect = range.getBoundingClientRect();\n      var doc = this.getDocument().documentElement;\n      var wnd = this.tribute.current.collection.iframe || window;\n      var windowLeft = (wnd.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var windowTop = (wnd.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      var left = rect.left;\n      var top = rect.top;\n      var coordinates = {\n        left: left + windowLeft,\n        top: top + rect.height + windowTop\n      };\n      var windowWidth = wnd.innerWidth;\n      var windowHeight = wnd.innerHeight;\n      var menuDimensions = this.getMenuDimensions();\n      var menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions, wnd);\n\n      if (menuIsOffScreen.right) {\n        coordinates.left = 'auto';\n        coordinates.right = windowWidth - rect.left - windowLeft;\n      }\n\n      var parentHeight = this.tribute.menuContainer ? this.tribute.menuContainer.offsetHeight : this.tribute.current.collection.iframe ? windowHeight : this.getDocument().body.offsetHeight;\n      var wasOffscreenBottom = menuIsOffScreen.bottom;\n\n      if (menuIsOffScreen.bottom) {\n        var parentRect = this.tribute.menuContainer ? this.tribute.menuContainer.getBoundingClientRect() : this.getDocument().body.getBoundingClientRect();\n        var bodyMarginBottom = this.tribute.menuContainer ? 0 : parseFloat(window.getComputedStyle(this.getDocument().body).getPropertyValue('margin-bottom'));\n        coordinates.top = 'auto';\n        coordinates.bottom = windowHeight - rect.top + parentRect.top - bodyMarginBottom + 3;\n      }\n\n      menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions, wnd);\n\n      if (menuIsOffScreen.left) {\n        coordinates.left = windowWidth > menuDimensions.width ? windowLeft + windowWidth - menuDimensions.width : windowLeft;\n        delete coordinates.right;\n      }\n\n      if (menuIsOffScreen.top) {\n        coordinates.top = windowHeight > menuDimensions.height && !wasOffscreenBottom ? windowTop + windowHeight - menuDimensions.height : windowTop;\n        if (!wasOffscreenBottom) delete coordinates.bottom;\n      }\n\n      if (!this.menuContainerIsBody) {\n        coordinates.left = coordinates.left ? coordinates.left - this.tribute.menuContainer.offsetLeft : coordinates.left;\n        coordinates.top = coordinates.top ? coordinates.top - this.tribute.menuContainer.offsetTop : coordinates.top;\n      }\n\n      return coordinates;\n    }\n  }, {\n    key: \"scrollIntoView\",\n    value: function scrollIntoView(elem) {\n      var reasonableBuffer = 20,\n          clientRect;\n      var maxScrollDisplacement = 100;\n      var e = this.menu ? this.menu : this.tribute ? this.tribute.menu : null;\n      if (typeof e === 'undefined') return;\n\n      while (clientRect === undefined || clientRect.height === 0) {\n        clientRect = e.getBoundingClientRect();\n\n        if (clientRect.height === 0) {\n          e = e.childNodes[0];\n\n          if (e === undefined || !e.getBoundingClientRect) {\n            return;\n          }\n        }\n      }\n\n      var elemTop = clientRect.top;\n      var elemBottom = elemTop + clientRect.height;\n\n      if (elemTop < 0) {\n        window.scrollTo(0, window.pageYOffset + clientRect.top - reasonableBuffer);\n      } else if (elemBottom > window.innerHeight) {\n        var maxY = window.pageYOffset + clientRect.top - reasonableBuffer;\n\n        if (maxY - window.pageYOffset > maxScrollDisplacement) {\n          maxY = window.pageYOffset + maxScrollDisplacement;\n        }\n\n        var targetY = window.pageYOffset - (window.innerHeight - elemBottom);\n\n        if (targetY > maxY) {\n          targetY = maxY;\n        }\n\n        window.scrollTo(0, targetY);\n      }\n    }\n  }, {\n    key: \"menuContainerIsBody\",\n    get: function get() {\n      return this.tribute.menuContainer === document.body || !this.tribute.menuContainer;\n    }\n  }]);\n\n  return TributeRange;\n}();\n\nvar _default = TributeRange;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{\"./utils\":7}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Thanks to https://github.com/mattyork/fuzzy\nvar TributeSearch =\n/*#__PURE__*/\nfunction () {\n  function TributeSearch(tribute) {\n    _classCallCheck(this, TributeSearch);\n\n    this.tribute = tribute;\n    this.tribute.search = this;\n  }\n\n  _createClass(TributeSearch, [{\n    key: \"simpleFilter\",\n    value: function simpleFilter(pattern, array) {\n      var _this = this;\n\n      return array.filter(function (string) {\n        return _this.test(pattern, string);\n      });\n    }\n  }, {\n    key: \"test\",\n    value: function test(pattern, string) {\n      return this.match(pattern, string) !== null;\n    }\n  }, {\n    key: \"match\",\n    value: function match(pattern, string, opts) {\n      opts = opts || {};\n      var patternIdx = 0,\n          result = [],\n          len = string.length,\n          totalScore = 0,\n          currScore = 0,\n          pre = opts.pre || '',\n          post = opts.post || '',\n          compareString = opts.caseSensitive && string || string.toLowerCase(),\n          ch,\n          compareChar;\n\n      if (opts.skip) {\n        return {\n          rendered: string,\n          score: 0\n        };\n      }\n\n      pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n      var patternCache = this.traverse(compareString, pattern, 0, 0, []);\n\n      if (!patternCache) {\n        return null;\n      }\n\n      return {\n        rendered: this.render(string, patternCache.cache, pre, post),\n        score: patternCache.score\n      };\n    }\n  }, {\n    key: \"traverse\",\n    value: function traverse(string, pattern, stringIndex, patternIndex, patternCache) {\n      // if the pattern search at end\n      if (pattern.length === patternIndex) {\n        // calculate score and copy the cache containing the indices where it's found\n        return {\n          score: this.calculateScore(patternCache),\n          cache: patternCache.slice()\n        };\n      } // if string at end or remaining pattern > remaining string\n\n\n      if (string.length === stringIndex || pattern.length - patternIndex > string.length - stringIndex) {\n        return undefined;\n      }\n\n      var c = pattern[patternIndex];\n      var index = string.indexOf(c, stringIndex);\n      var best, temp;\n\n      while (index > -1) {\n        patternCache.push(index);\n        temp = this.traverse(string, pattern, index + 1, patternIndex + 1, patternCache);\n        patternCache.pop(); // if downstream traversal failed, return best answer so far\n\n        if (!temp) {\n          return best;\n        }\n\n        if (!best || best.score < temp.score) {\n          best = temp;\n        }\n\n        index = string.indexOf(c, index + 1);\n      }\n\n      return best;\n    }\n  }, {\n    key: \"calculateScore\",\n    value: function calculateScore(patternCache) {\n      var score = 0;\n      var temp = 1;\n      patternCache.forEach(function (index, i) {\n        if (i > 0) {\n          if (patternCache[i - 1] + 1 === index) {\n            temp += temp + 1;\n          } else {\n            temp = 1;\n          }\n        }\n\n        score += temp;\n      });\n      return score;\n    }\n  }, {\n    key: \"render\",\n    value: function render(string, indices, pre, post) {\n      var rendered = string.substring(0, indices[0]);\n      indices.forEach(function (index, i) {\n        rendered += pre + string[index] + post + string.substring(index + 1, indices[i + 1] ? indices[i + 1] : string.length);\n      });\n      return rendered;\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(pattern, arr, opts) {\n      var _this2 = this;\n\n      opts = opts || {};\n      return arr.reduce(function (prev, element, idx, arr) {\n        var str = element;\n\n        if (opts.extract) {\n          str = opts.extract(element);\n\n          if (!str) {\n            // take care of undefineds / nulls / etc.\n            str = '';\n          }\n        }\n\n        var rendered = _this2.match(pattern, str, opts);\n\n        if (rendered != null) {\n          prev[prev.length] = {\n            string: rendered.rendered,\n            score: rendered.score,\n            index: idx,\n            original: element\n          };\n        }\n\n        return prev;\n      }, []).sort(function (a, b) {\n        var compare = b.score - a.score;\n        if (compare) return compare;\n        return a.index - b.index;\n      });\n    }\n  }]);\n\n  return TributeSearch;\n}();\n\nvar _default = TributeSearch;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Tribute = _interopRequireDefault(require(\"./Tribute\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\r\n* Tribute.js\r\n* Native ES6 JavaScript @mention Plugin\r\n**/\nvar _default = _Tribute[\"default\"];\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{\"./Tribute\":1}],7:[function(require,module,exports){\n\"use strict\";\n\nif (!Array.prototype.find) {\n  Array.prototype.find = function (predicate) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    }\n\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n\n      if (predicate.call(thisArg, value, i, list)) {\n        return value;\n      }\n    }\n\n    return undefined;\n  };\n}\n\nif (window && typeof window.CustomEvent !== \"function\") {\n  var CustomEvent = function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  if (typeof window.Event !== 'undefined') {\n    CustomEvent.prototype = window.Event.prototype;\n  }\n\n  window.CustomEvent = CustomEvent;\n}\n\n},{}]},{},[6])(6)\n});\n//# sourceMappingURL=tribute.js.map\n"]}